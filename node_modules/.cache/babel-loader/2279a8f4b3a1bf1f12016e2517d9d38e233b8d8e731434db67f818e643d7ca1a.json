{"ast":null,"code":"var _jsxFileName = \"/Users/wmobley/Documents/GitHub/SiteStoriesForm/src/location.js\",\n  _s2 = $RefreshSig$();\nimport React, { useState, useCallback, useRef } from 'react';\nimport { MapContainer, TileLayer, Marker, useMapEvents, useMap } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport { OpenStreetMapProvider } from 'leaflet-geosearch';\nimport L from 'leaflet';\nimport icon from 'leaflet/dist/images/marker-icon.png';\nimport iconShadow from 'leaflet/dist/images/marker-shadow.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet DefaultIcon = L.icon({\n  iconUrl: icon,\n  shadowUrl: iconShadow,\n  iconSize: [25, 41],\n  iconAnchor: [12, 41]\n});\nL.Marker.prototype.options.icon = DefaultIcon;\nfunction Location({\n  onLocationChange\n}) {\n  _s2();\n  var _s = $RefreshSig$();\n  const [position, setPosition] = useState([60.876549, -162.460444]);\n  const [address, setAddress] = useState('');\n  const [suggestions, setSuggestions] = useState([]);\n  const provider = new OpenStreetMapProvider();\n  const mapRef = useRef(null);\n  function LocationMarker() {\n    _s();\n    const map = useMap();\n    useMapEvents({\n      click(e) {\n        const newPosition = [e.latlng.lat, e.latlng.lng];\n        setPosition(newPosition);\n        onLocationChange(newPosition);\n      }\n    });\n    return position === null ? null : /*#__PURE__*/_jsxDEV(Marker, {\n      position: position\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this);\n  }\n  _s(LocationMarker, \"tmcOhplWkk/SgX5HNxHxB5dt97g=\", false, function () {\n    return [useMap, useMapEvents];\n  });\n  const handleAddressSearch = useCallback(() => {\n    provider.search({\n      query: address\n    }).then(results => {\n      if (results.length > 0) {\n        const newPosition = [results[0].y, results[0].x];\n        setPosition(newPosition);\n        onLocationChange(newPosition);\n        if (mapRef.current) {\n          mapRef.current.setView(newPosition, 12);\n        }\n      }\n    });\n  }, [address, onLocationChange, provider]);\n  const handleInputChange = useCallback(async event => {\n    const input = event.target.value;\n    setAddress(input);\n    if (input.length > 2) {\n      const results = await provider.search({\n        query: input\n      });\n      setSuggestions(results.slice(0, 5));\n    } else {\n      setSuggestions([]);\n    }\n  }, [provider]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"location\",\n      children: \"Location:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: address,\n        onChange: handleInputChange,\n        placeholder: \"Enter an address\",\n        list: \"address-suggestions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"datalist\", {\n        id: \"address-suggestions\",\n        children: suggestions.map((suggestion, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: suggestion.label\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: handleAddressSearch,\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MapContainer, {\n      center: position,\n      zoom: 12,\n      style: {\n        height: '300px',\n        width: '100%'\n      },\n      ref: mapRef,\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LocationMarker, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Selected: \", position[0].toFixed(6), \", \", position[1].toFixed(6)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n_s2(Location, \"HEZP1VBXPbeloNdhG74gbJuzK3c=\");\n_c = Location;\nexport default Location;\nvar _c;\n$RefreshReg$(_c, \"Location\");","map":{"version":3,"names":["React","useState","useCallback","useRef","MapContainer","TileLayer","Marker","useMapEvents","useMap","OpenStreetMapProvider","L","icon","iconShadow","jsxDEV","_jsxDEV","DefaultIcon","iconUrl","shadowUrl","iconSize","iconAnchor","prototype","options","Location","onLocationChange","_s2","_s","$RefreshSig$","position","setPosition","address","setAddress","suggestions","setSuggestions","provider","mapRef","LocationMarker","map","click","e","newPosition","latlng","lat","lng","fileName","_jsxFileName","lineNumber","columnNumber","handleAddressSearch","search","query","then","results","length","y","x","current","setView","handleInputChange","event","input","target","value","slice","children","htmlFor","type","onChange","placeholder","list","id","suggestion","index","label","onClick","center","zoom","style","height","width","ref","url","toFixed","_c","$RefreshReg$"],"sources":["/Users/wmobley/Documents/GitHub/SiteStoriesForm/src/location.js"],"sourcesContent":["import React, { useState, useCallback, useRef } from 'react';\nimport { MapContainer, TileLayer, Marker, useMapEvents, useMap } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport { OpenStreetMapProvider } from 'leaflet-geosearch';\nimport L from 'leaflet';\nimport icon from 'leaflet/dist/images/marker-icon.png';\nimport iconShadow from 'leaflet/dist/images/marker-shadow.png';\n\nlet DefaultIcon = L.icon({\n  iconUrl: icon,\n  shadowUrl: iconShadow,\n  iconSize: [25, 41],\n  iconAnchor: [12, 41]\n});\n\nL.Marker.prototype.options.icon = DefaultIcon;\n\nfunction Location({ onLocationChange }) {\n  const [position, setPosition] = useState([60.876549, -162.460444]);\n  const [address, setAddress] = useState('');\n  const [suggestions, setSuggestions] = useState([]);\n  const provider = new OpenStreetMapProvider();\n  const mapRef = useRef(null);\n\n  function LocationMarker() {\n    const map = useMap();\n\n    useMapEvents({\n      click(e) {\n        const newPosition = [e.latlng.lat, e.latlng.lng];\n        setPosition(newPosition);\n        onLocationChange(newPosition);\n      },\n    });\n\n    return position === null ? null : (\n      <Marker position={position}></Marker>\n    );\n  }\n\n  const handleAddressSearch = useCallback(() => {\n    provider.search({ query: address }).then(results => {\n      if (results.length > 0) {\n        const newPosition = [results[0].y, results[0].x];\n        setPosition(newPosition);\n        onLocationChange(newPosition);\n        if (mapRef.current) {\n          mapRef.current.setView(newPosition, 12);\n        }\n      }\n    });\n  }, [address, onLocationChange, provider]);\n\n  const handleInputChange = useCallback(async (event) => {\n    const input = event.target.value;\n    setAddress(input);\n    if (input.length > 2) {\n      const results = await provider.search({ query: input });\n      setSuggestions(results.slice(0, 5));\n    } else {\n      setSuggestions([]);\n    }\n  }, [provider]);\n\n  return (\n    <div>\n      <label htmlFor=\"location\">Location:</label>\n      <div>\n        <input\n          type=\"text\"\n          value={address}\n          onChange={handleInputChange}\n          placeholder=\"Enter an address\"\n          list=\"address-suggestions\"\n        />\n        <datalist id=\"address-suggestions\">\n          {suggestions.map((suggestion, index) => (\n            <option key={index} value={suggestion.label} />\n          ))}\n        </datalist>\n        <button type=\"button\" onClick={handleAddressSearch}>Search</button>\n      </div>\n      <MapContainer center={position} zoom={12} style={{ height: '300px', width: '100%' }} ref={mapRef}>\n        <TileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\n        <LocationMarker />\n      </MapContainer>\n      <p>Selected: {position[0].toFixed(6)}, {position[1].toFixed(6)}</p>\n    </div>\n  );\n}\n\nexport default Location;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}