{"ast":null,"code":"import React,{useState,useEffect}from'react';import{openDB,saveAudioToIndexedDB,getAudioFromIndexedDB}from'./db';import axios from'axios';import ExpiredTokenModal from'./ExpiredTokenModal';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function List(_ref){let{updateTrigger}=_ref;const[formEntries,setFormEntries]=useState([]);const[isLoading,setIsLoading]=useState(false);const[isModalOpen,setIsModalOpen]=useState(false);useEffect(()=>{const loadFormData=()=>{const data=JSON.parse(localStorage.getItem('siteStoryFormData'))||[];setFormEntries(data);};loadFormData();window.addEventListener('storage',loadFormData);return()=>{window.removeEventListener('storage',loadFormData);};},[updateTrigger]);// const uploadAudioToTapis = async (audioURL, fileName) => {\n//   const jwt = localStorage.getItem('jwt');\n//   if (!jwt) {\n//     console.error('No JWT found. Please log in.');\n//     return;\n//   }\n//   const formData = new FormData();\n//   console.log(audioURL)\n//   formData.append('file', audioURL);\n//   try {\n//     const response = await axios.post(\n//       'https://tacc.tapis.io/v3/files/ops/ls6.wmobley//corral-repl/tacc/aci/PT2050/projects/PT2050-138/Interviews/' +fileName.id +\".mp3\",\n//       formData,\n//       {\n//         headers: {\n//           'X-Tapis-Token': jwt,\n//           'Content-Type': 'multipart/form-data'\n//         }\n//       }\n//     );\n//     console.log('File uploaded successfully:', response.data);\n//   } catch (error) {\n//     console.error('Error uploading file:', error);\n//   }\n// };\nconst uploadAudioToTapis=async(audioUrl,fileName)=>{const jwt=localStorage.getItem('jwt');if(!jwt){console.error('No JWT found. Please log in.');return;}console.log(fileName.id,audioUrl);const body={tag:\"Audio file upload\",elements:[{sourceURI:audioUrl,destinationURI:\"tapis://ls6.wmobley/corral-repl/tacc/aci/PT2050/projects/PT2050-138/Interviews/\".concat(fileName.id,\".mp3\")}]};try{const response=await axios.post('https://tacc.tapis.io/v3/files/transfers',body,{headers:{'X-Tapis-Token':jwt,'Content-Type':'application/json'}});console.log('File transfer initiated:',response.data);return response.data;}catch(error){console.error('Error initiating file transfer:',error);throw error;}};const submitToArcGIS=async formData=>{const arcgisUrl='https://sitestories.io/arcgis/rest/services/Hosted/Narratives/FeatureServer/0/addFeatures';const feature={attributes:{description:formData.description,interviewer:localStorage.getItem('username'),time_:new Date(formData.time).getTime(),audiofile:formData.audioFileId+'.mp3',notes:formData.notes,esrignss_latitude:formData.location[1],esrignss_longitude:formData.location[0]},\"geometry\":{spatialReference:{wkid:4326},\"x\":formData.location[1],\"y\":formData.location[0]}};console.log(feature);const params=new URLSearchParams({features:JSON.stringify([feature]),f:'json'});try{const response=await fetch(arcgisUrl,{method:'POST',body:params});const result=await response.json();console.log('ArcGIS submission result:',result.addResults[0]);}catch(error){console.error('Error submitting to ArcGIS:',error);}};const playAudio=audioUrl=>{const audio=new Audio(audioUrl);audio.play().then(()=>console.log('Audio playback started')).catch(error=>console.error('Error playing audio:',error));};const handleSubmit=async entry=>{const audioFileId=entry.audioFileId;const jwt=localStorage.getItem('jwt');const jwtExpiration=localStorage.getItem('jwt_expiration');if(!jwt||new Date(jwtExpiration)<new Date()){console.log(jwt,new Date(jwtExpiration),new Date(),new Date(jwtExpiration)<new Date());setIsModalOpen(true);return;}setIsLoading(true);if(new Date(localStorage.getItem('jwt_expiration'))>Date.now()){try{const audioData=await getAudioFromIndexedDB(audioFileId);console.log('Audio data retrieved from IndexedDB:',audioData);if(audioData&&audioData.result.audioFile){const audioUrl=URL.createObjectURL(audioData.result.audioFile);uploadAudioToTapis(audioUrl,audioData.result);// You can now use this audioUrl to play the audio or for further processing\n}else{console.log('Audio file not found');}}catch(error){console.error('Error loading audio:',error);}finally{setIsLoading(false);submitToArcGIS(entry);// Remove the submitted entry from the list\n// const updatedEntries = formEntries.filter(item => item.id !== entry.id);\n// setFormEntries(updatedEntries);\n// localStorage.setItem('siteStoryFormData', JSON.stringify(updatedEntries));\n}}else{console.log('JWT expired. Please log in again.');}};const handleDelete=id=>{const updatedEntries=formEntries.filter(entry=>entry.id!==id);setFormEntries(updatedEntries);localStorage.setItem('siteStoryFormData',JSON.stringify(updatedEntries));};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-entries-list\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Submitted Entries\"}),formEntries.map(entry=>/*#__PURE__*/_jsxs(\"div\",{className:\"metadata-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:entry.title}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"}),\" \",entry.description]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Interviewer:\"}),\" \",entry.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Time:\"}),\" \",new Date(entry.time).toLocaleString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Location:\"}),\" \",entry.location]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Audio File:\"}),\" \",entry.audioFileId+\".mp3\"||'No file uploaded']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Notes:\"}),\" \",entry.notes]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSubmit(entry),children:\"Submit to PTDataX\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(entry.id),children:\"Delete\"}),/*#__PURE__*/_jsx(ExpiredTokenModal,{isOpen:isModalOpen,onClose:()=>setIsModalOpen(false)})]},entry.id))]});}export default List;","map":{"version":3,"names":["React","useState","useEffect","openDB","saveAudioToIndexedDB","getAudioFromIndexedDB","axios","ExpiredTokenModal","jsx","_jsx","jsxs","_jsxs","List","_ref","updateTrigger","formEntries","setFormEntries","isLoading","setIsLoading","isModalOpen","setIsModalOpen","loadFormData","data","JSON","parse","localStorage","getItem","window","addEventListener","removeEventListener","uploadAudioToTapis","audioUrl","fileName","jwt","console","error","log","id","body","tag","elements","sourceURI","destinationURI","concat","response","post","headers","submitToArcGIS","formData","arcgisUrl","feature","attributes","description","interviewer","time_","Date","time","getTime","audiofile","audioFileId","notes","esrignss_latitude","location","esrignss_longitude","spatialReference","wkid","params","URLSearchParams","features","stringify","f","fetch","method","result","json","addResults","playAudio","audio","Audio","play","then","catch","handleSubmit","entry","jwtExpiration","now","audioData","audioFile","URL","createObjectURL","handleDelete","updatedEntries","filter","setItem","className","children","map","title","name","toLocaleString","onClick","isOpen","onClose"],"sources":["/Users/wmobley/Documents/GitHub/SiteStoriesForm/src/list.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {openDB, saveAudioToIndexedDB, getAudioFromIndexedDB} from './db';\nimport axios from 'axios';\nimport ExpiredTokenModal from './ExpiredTokenModal';\n\n\n\nfunction List( { updateTrigger }) {\n  const [formEntries, setFormEntries] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  useEffect(() => {\n    const loadFormData = () => {\n      const data = JSON.parse(localStorage.getItem('siteStoryFormData')) || [];\n    \n      setFormEntries(data);\n    };\n\n    loadFormData();\n    window.addEventListener('storage', loadFormData);\n\n    return () => {\n      window.removeEventListener('storage', loadFormData);\n    };\n  }, [updateTrigger]);\n\n  // const uploadAudioToTapis = async (audioURL, fileName) => {\n  //   const jwt = localStorage.getItem('jwt');\n  //   if (!jwt) {\n  //     console.error('No JWT found. Please log in.');\n  //     return;\n  //   }\n  \n  //   const formData = new FormData();\n  //   console.log(audioURL)\n  //   formData.append('file', audioURL);\n  \n  //   try {\n  //     const response = await axios.post(\n  //       'https://tacc.tapis.io/v3/files/ops/ls6.wmobley//corral-repl/tacc/aci/PT2050/projects/PT2050-138/Interviews/' +fileName.id +\".mp3\",\n  //       formData,\n  //       {\n  //         headers: {\n  //           'X-Tapis-Token': jwt,\n  //           'Content-Type': 'multipart/form-data'\n  //         }\n  //       }\n  //     );\n  //     console.log('File uploaded successfully:', response.data);\n  //   } catch (error) {\n  //     console.error('Error uploading file:', error);\n  //   }\n  // };\n  const uploadAudioToTapis = async (audioUrl, fileName) => {\n    const jwt = localStorage.getItem('jwt');\n    if (!jwt) {\n      console.error('No JWT found. Please log in.');\n      return;\n    }\n    console.log(fileName.id, audioUrl)\n    const body = {\n      tag: \"Audio file upload\",\n      elements: [\n        {\n          sourceURI: audioUrl,\n          destinationURI: `tapis://ls6.wmobley/corral-repl/tacc/aci/PT2050/projects/PT2050-138/Interviews/${fileName.id}.mp3`\n        }\n      ]\n    };\n  \n    try {\n      const response = await axios.post(\n        'https://tacc.tapis.io/v3/files/transfers',\n        body,\n        {\n          headers: {\n            'X-Tapis-Token': jwt,\n            'Content-Type': 'application/json'\n          }\n        }\n      );\n      console.log('File transfer initiated:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Error initiating file transfer:', error);\n      throw error;\n    }\n  };\n\n  const submitToArcGIS = async (formData) => {\n    const arcgisUrl = 'https://sitestories.io/arcgis/rest/services/Hosted/Narratives/FeatureServer/0/addFeatures';\n    const feature = {\n      attributes: {\n        description: formData.description,\n        interviewer: localStorage.getItem('username'),\n        time_: new Date(formData.time).getTime(),\n        audiofile: formData.audioFileId + '.mp3',\n        notes: formData.notes,\n        esrignss_latitude: formData.location[1],\n        esrignss_longitude: formData.location[0]\n      },\n      \"geometry\": {\n        spatialReference: {\n            wkid: 4326\n          },\n        \"x\": formData.location[1],\n        \"y\": formData.location[0]\n      }\n    };\n    console.log(feature)\n    const params = new URLSearchParams({\n      features: JSON.stringify([feature]),\n      f: 'json'\n    });\n  \n    try {\n      const response = await fetch(arcgisUrl, {\n        method: 'POST',\n        body: params\n      });\n      const result = await response.json();\n      console.log('ArcGIS submission result:', result.addResults[0]);\n    } catch (error) {\n      console.error('Error submitting to ArcGIS:', error);\n    }\n  };\n  \n  const playAudio = (audioUrl) => {\n    const audio = new Audio(audioUrl);\n    audio.play()\n      .then(() => console.log('Audio playback started'))\n      .catch(error => console.error('Error playing audio:', error));\n  };\n\nconst handleSubmit = async (entry) => {\n    const audioFileId = entry.audioFileId\n    const jwt = localStorage.getItem('jwt');\n    const jwtExpiration = localStorage.getItem('jwt_expiration');\n\n    if (!jwt || new Date(jwtExpiration) < new Date()) {\n      console.log(jwt ,new Date(jwtExpiration) , new Date(), new Date(jwtExpiration) < new Date())\n      setIsModalOpen(true);\n      return;\n    }\n\n    setIsLoading(true);\n    if(new Date(localStorage.getItem('jwt_expiration'))> Date.now()){\n    try {\n      const audioData = await getAudioFromIndexedDB(audioFileId);\n      console.log('Audio data retrieved from IndexedDB:', audioData);\n\n      if (audioData && audioData.result.audioFile) {\n        const audioUrl = URL.createObjectURL(audioData.result.audioFile);\n        uploadAudioToTapis(audioUrl, audioData.result);\n        // You can now use this audioUrl to play the audio or for further processing\n      } else {\n        console.log('Audio file not found');\n      }\n    } catch (error) {\n      console.error('Error loading audio:', error);\n    } finally {\n      setIsLoading(false);\n      submitToArcGIS(entry);\n      // Remove the submitted entry from the list\n    // const updatedEntries = formEntries.filter(item => item.id !== entry.id);\n    // setFormEntries(updatedEntries);\n    // localStorage.setItem('siteStoryFormData', JSON.stringify(updatedEntries));\n\n    }\n    }else{\n       console.log('JWT expired. Please log in again.');\n    }\n    \n  };\n\n  \n  \n  const handleDelete = (id) => {\n    const updatedEntries = formEntries.filter(entry => entry.id !== id);\n    setFormEntries(updatedEntries);\n    localStorage.setItem('siteStoryFormData', JSON.stringify(updatedEntries));\n  };\n\n  return (\n    <div className=\"form-entries-list\">\n      <h2>Submitted Entries</h2>\n      {formEntries.map((entry) => (\n        <div key={entry.id} className=\"metadata-card\">\n          <h3>{entry.title}</h3>\n          <p><strong>Description:</strong> {entry.description}</p>\n          <p><strong>Interviewer:</strong> {entry.name}</p>\n          <p><strong>Time:</strong> {new Date(entry.time).toLocaleString()}</p>\n          <p><strong>Location:</strong> {entry.location}</p>\n          <p><strong>Audio File:</strong> {entry.audioFileId +\".mp3\" || 'No file uploaded'}</p>\n          <p><strong>Notes:</strong> {entry.notes}</p>\n          \n                    <button onClick={() => handleSubmit(entry)}>\n                    Submit to PTDataX\n                    </button>\n          <button onClick={() => handleDelete(entry.id)}>Delete</button>\n          <ExpiredTokenModal \n        isOpen={isModalOpen} \n        onClose={() => setIsModalOpen(false)} \n      />\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default List;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAAQC,MAAM,CAAEC,oBAAoB,CAAEC,qBAAqB,KAAO,MAAM,CACxE,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,iBAAiB,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAIpD,QAAS,CAAAC,IAAIA,CAAAC,IAAA,CAAqB,IAAnB,CAAEC,aAAc,CAAC,CAAAD,IAAA,CAC9B,KAAM,CAACE,WAAW,CAAEC,cAAc,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACgB,SAAS,CAAEC,YAAY,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACkB,WAAW,CAAEC,cAAc,CAAC,CAAGnB,QAAQ,CAAC,KAAK,CAAC,CAErDC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAmB,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAAC,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,mBAAmB,CAAC,CAAC,EAAI,EAAE,CAExEV,cAAc,CAACM,IAAI,CAAC,CACtB,CAAC,CAEDD,YAAY,CAAC,CAAC,CACdM,MAAM,CAACC,gBAAgB,CAAC,SAAS,CAAEP,YAAY,CAAC,CAEhD,MAAO,IAAM,CACXM,MAAM,CAACE,mBAAmB,CAAC,SAAS,CAAER,YAAY,CAAC,CACrD,CAAC,CACH,CAAC,CAAE,CAACP,aAAa,CAAC,CAAC,CAEnB;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAM,CAAAgB,kBAAkB,CAAG,KAAAA,CAAOC,QAAQ,CAAEC,QAAQ,GAAK,CACvD,KAAM,CAAAC,GAAG,CAAGR,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC,CACvC,GAAI,CAACO,GAAG,CAAE,CACRC,OAAO,CAACC,KAAK,CAAC,8BAA8B,CAAC,CAC7C,OACF,CACAD,OAAO,CAACE,GAAG,CAACJ,QAAQ,CAACK,EAAE,CAAEN,QAAQ,CAAC,CAClC,KAAM,CAAAO,IAAI,CAAG,CACXC,GAAG,CAAE,mBAAmB,CACxBC,QAAQ,CAAE,CACR,CACEC,SAAS,CAAEV,QAAQ,CACnBW,cAAc,mFAAAC,MAAA,CAAoFX,QAAQ,CAACK,EAAE,QAC/G,CAAC,CAEL,CAAC,CAED,GAAI,CACF,KAAM,CAAAO,QAAQ,CAAG,KAAM,CAAAtC,KAAK,CAACuC,IAAI,CAC/B,0CAA0C,CAC1CP,IAAI,CACJ,CACEQ,OAAO,CAAE,CACP,eAAe,CAAEb,GAAG,CACpB,cAAc,CAAE,kBAClB,CACF,CACF,CAAC,CACDC,OAAO,CAACE,GAAG,CAAC,0BAA0B,CAAEQ,QAAQ,CAACtB,IAAI,CAAC,CACtD,MAAO,CAAAsB,QAAQ,CAACtB,IAAI,CACtB,CAAE,MAAOa,KAAK,CAAE,CACdD,OAAO,CAACC,KAAK,CAAC,iCAAiC,CAAEA,KAAK,CAAC,CACvD,KAAM,CAAAA,KAAK,CACb,CACF,CAAC,CAED,KAAM,CAAAY,cAAc,CAAG,KAAO,CAAAC,QAAQ,EAAK,CACzC,KAAM,CAAAC,SAAS,CAAG,2FAA2F,CAC7G,KAAM,CAAAC,OAAO,CAAG,CACdC,UAAU,CAAE,CACVC,WAAW,CAAEJ,QAAQ,CAACI,WAAW,CACjCC,WAAW,CAAE5B,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAC7C4B,KAAK,CAAE,GAAI,CAAAC,IAAI,CAACP,QAAQ,CAACQ,IAAI,CAAC,CAACC,OAAO,CAAC,CAAC,CACxCC,SAAS,CAAEV,QAAQ,CAACW,WAAW,CAAG,MAAM,CACxCC,KAAK,CAAEZ,QAAQ,CAACY,KAAK,CACrBC,iBAAiB,CAAEb,QAAQ,CAACc,QAAQ,CAAC,CAAC,CAAC,CACvCC,kBAAkB,CAAEf,QAAQ,CAACc,QAAQ,CAAC,CAAC,CACzC,CAAC,CACD,UAAU,CAAE,CACVE,gBAAgB,CAAE,CACdC,IAAI,CAAE,IACR,CAAC,CACH,GAAG,CAAEjB,QAAQ,CAACc,QAAQ,CAAC,CAAC,CAAC,CACzB,GAAG,CAAEd,QAAQ,CAACc,QAAQ,CAAC,CAAC,CAC1B,CACF,CAAC,CACD5B,OAAO,CAACE,GAAG,CAACc,OAAO,CAAC,CACpB,KAAM,CAAAgB,MAAM,CAAG,GAAI,CAAAC,eAAe,CAAC,CACjCC,QAAQ,CAAE7C,IAAI,CAAC8C,SAAS,CAAC,CAACnB,OAAO,CAAC,CAAC,CACnCoB,CAAC,CAAE,MACL,CAAC,CAAC,CAEF,GAAI,CACF,KAAM,CAAA1B,QAAQ,CAAG,KAAM,CAAA2B,KAAK,CAACtB,SAAS,CAAE,CACtCuB,MAAM,CAAE,MAAM,CACdlC,IAAI,CAAE4B,MACR,CAAC,CAAC,CACF,KAAM,CAAAO,MAAM,CAAG,KAAM,CAAA7B,QAAQ,CAAC8B,IAAI,CAAC,CAAC,CACpCxC,OAAO,CAACE,GAAG,CAAC,2BAA2B,CAAEqC,MAAM,CAACE,UAAU,CAAC,CAAC,CAAC,CAAC,CAChE,CAAE,MAAOxC,KAAK,CAAE,CACdD,OAAO,CAACC,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACrD,CACF,CAAC,CAED,KAAM,CAAAyC,SAAS,CAAI7C,QAAQ,EAAK,CAC9B,KAAM,CAAA8C,KAAK,CAAG,GAAI,CAAAC,KAAK,CAAC/C,QAAQ,CAAC,CACjC8C,KAAK,CAACE,IAAI,CAAC,CAAC,CACTC,IAAI,CAAC,IAAM9C,OAAO,CAACE,GAAG,CAAC,wBAAwB,CAAC,CAAC,CACjD6C,KAAK,CAAC9C,KAAK,EAAID,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAAC,CACjE,CAAC,CAEH,KAAM,CAAA+C,YAAY,CAAG,KAAO,CAAAC,KAAK,EAAK,CAClC,KAAM,CAAAxB,WAAW,CAAGwB,KAAK,CAACxB,WAAW,CACrC,KAAM,CAAA1B,GAAG,CAAGR,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC,CACvC,KAAM,CAAA0D,aAAa,CAAG3D,YAAY,CAACC,OAAO,CAAC,gBAAgB,CAAC,CAE5D,GAAI,CAACO,GAAG,EAAI,GAAI,CAAAsB,IAAI,CAAC6B,aAAa,CAAC,CAAG,GAAI,CAAA7B,IAAI,CAAC,CAAC,CAAE,CAChDrB,OAAO,CAACE,GAAG,CAACH,GAAG,CAAE,GAAI,CAAAsB,IAAI,CAAC6B,aAAa,CAAC,CAAG,GAAI,CAAA7B,IAAI,CAAC,CAAC,CAAE,GAAI,CAAAA,IAAI,CAAC6B,aAAa,CAAC,CAAG,GAAI,CAAA7B,IAAI,CAAC,CAAC,CAAC,CAC5FnC,cAAc,CAAC,IAAI,CAAC,CACpB,OACF,CAEAF,YAAY,CAAC,IAAI,CAAC,CAClB,GAAG,GAAI,CAAAqC,IAAI,CAAC9B,YAAY,CAACC,OAAO,CAAC,gBAAgB,CAAC,CAAC,CAAE6B,IAAI,CAAC8B,GAAG,CAAC,CAAC,CAAC,CAChE,GAAI,CACF,KAAM,CAAAC,SAAS,CAAG,KAAM,CAAAjF,qBAAqB,CAACsD,WAAW,CAAC,CAC1DzB,OAAO,CAACE,GAAG,CAAC,sCAAsC,CAAEkD,SAAS,CAAC,CAE9D,GAAIA,SAAS,EAAIA,SAAS,CAACb,MAAM,CAACc,SAAS,CAAE,CAC3C,KAAM,CAAAxD,QAAQ,CAAGyD,GAAG,CAACC,eAAe,CAACH,SAAS,CAACb,MAAM,CAACc,SAAS,CAAC,CAChEzD,kBAAkB,CAACC,QAAQ,CAAEuD,SAAS,CAACb,MAAM,CAAC,CAC9C;AACF,CAAC,IAAM,CACLvC,OAAO,CAACE,GAAG,CAAC,sBAAsB,CAAC,CACrC,CACF,CAAE,MAAOD,KAAK,CAAE,CACdD,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CAAC,OAAS,CACRjB,YAAY,CAAC,KAAK,CAAC,CACnB6B,cAAc,CAACoC,KAAK,CAAC,CACrB;AACF;AACA;AACA;AAEA,CACA,CAAC,IAAI,CACFjD,OAAO,CAACE,GAAG,CAAC,mCAAmC,CAAC,CACnD,CAEF,CAAC,CAID,KAAM,CAAAsD,YAAY,CAAIrD,EAAE,EAAK,CAC3B,KAAM,CAAAsD,cAAc,CAAG5E,WAAW,CAAC6E,MAAM,CAACT,KAAK,EAAIA,KAAK,CAAC9C,EAAE,GAAKA,EAAE,CAAC,CACnErB,cAAc,CAAC2E,cAAc,CAAC,CAC9BlE,YAAY,CAACoE,OAAO,CAAC,mBAAmB,CAAEtE,IAAI,CAAC8C,SAAS,CAACsB,cAAc,CAAC,CAAC,CAC3E,CAAC,CAED,mBACEhF,KAAA,QAAKmF,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCtF,IAAA,OAAAsF,QAAA,CAAI,mBAAiB,CAAI,CAAC,CACzBhF,WAAW,CAACiF,GAAG,CAAEb,KAAK,eACrBxE,KAAA,QAAoBmF,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC3CtF,IAAA,OAAAsF,QAAA,CAAKZ,KAAK,CAACc,KAAK,CAAK,CAAC,cACtBtF,KAAA,MAAAoF,QAAA,eAAGtF,IAAA,WAAAsF,QAAA,CAAQ,cAAY,CAAQ,CAAC,IAAC,CAACZ,KAAK,CAAC/B,WAAW,EAAI,CAAC,cACxDzC,KAAA,MAAAoF,QAAA,eAAGtF,IAAA,WAAAsF,QAAA,CAAQ,cAAY,CAAQ,CAAC,IAAC,CAACZ,KAAK,CAACe,IAAI,EAAI,CAAC,cACjDvF,KAAA,MAAAoF,QAAA,eAAGtF,IAAA,WAAAsF,QAAA,CAAQ,OAAK,CAAQ,CAAC,IAAC,CAAC,GAAI,CAAAxC,IAAI,CAAC4B,KAAK,CAAC3B,IAAI,CAAC,CAAC2C,cAAc,CAAC,CAAC,EAAI,CAAC,cACrExF,KAAA,MAAAoF,QAAA,eAAGtF,IAAA,WAAAsF,QAAA,CAAQ,WAAS,CAAQ,CAAC,IAAC,CAACZ,KAAK,CAACrB,QAAQ,EAAI,CAAC,cAClDnD,KAAA,MAAAoF,QAAA,eAAGtF,IAAA,WAAAsF,QAAA,CAAQ,aAAW,CAAQ,CAAC,IAAC,CAACZ,KAAK,CAACxB,WAAW,CAAE,MAAM,EAAI,kBAAkB,EAAI,CAAC,cACrFhD,KAAA,MAAAoF,QAAA,eAAGtF,IAAA,WAAAsF,QAAA,CAAQ,QAAM,CAAQ,CAAC,IAAC,CAACZ,KAAK,CAACvB,KAAK,EAAI,CAAC,cAElCnD,IAAA,WAAQ2F,OAAO,CAAEA,CAAA,GAAMlB,YAAY,CAACC,KAAK,CAAE,CAAAY,QAAA,CAAC,mBAE5C,CAAQ,CAAC,cACnBtF,IAAA,WAAQ2F,OAAO,CAAEA,CAAA,GAAMV,YAAY,CAACP,KAAK,CAAC9C,EAAE,CAAE,CAAA0D,QAAA,CAAC,QAAM,CAAQ,CAAC,cAC9DtF,IAAA,CAACF,iBAAiB,EACpB8F,MAAM,CAAElF,WAAY,CACpBmF,OAAO,CAAEA,CAAA,GAAMlF,cAAc,CAAC,KAAK,CAAE,CACtC,CAAC,GAhBU+D,KAAK,CAAC9C,EAiBX,CACN,CAAC,EACC,CAAC,CAEV,CAEA,cAAe,CAAAzB,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}