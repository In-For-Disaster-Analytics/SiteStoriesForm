{"ast":null,"code":"const dbName='SiteStoryDB';const storeName='audioFiles';const openDB=()=>{return new Promise((resolve,reject)=>{const request=indexedDB.open(dbName,1);request.onerror=()=>reject(request.error);request.onsuccess=()=>resolve(request.result);request.onupgradeneeded=event=>{const db=event.target.result;db.createObjectStore(storeName,{keyPath:'id'});};});};const saveAudioToIndexedDB=async(audioFile,title)=>{const db=await openDB();const transaction=db.transaction(storeName,'readwrite');const store=transaction.objectStore(storeName);const id=title+Date.now();await store.put({id,title,audioFile});return id;};const getAudioFromIndexedDB=async id=>{const db=await openDB();return new Promise((resolve,reject)=>{const transaction=db.transaction(storeName,'readonly');const store=transaction.objectStore(storeName);const request=store.get(id);request.onsuccess=event=>{resolve(event.target);};request.onerror=event=>{reject(event.target.error);};});};export{openDB,saveAudioToIndexedDB,getAudioFromIndexedDB};","map":{"version":3,"names":["dbName","storeName","openDB","Promise","resolve","reject","request","indexedDB","open","onerror","error","onsuccess","result","onupgradeneeded","event","db","target","createObjectStore","keyPath","saveAudioToIndexedDB","audioFile","title","transaction","store","objectStore","id","Date","now","put","getAudioFromIndexedDB","get"],"sources":["/Users/wmobley/Documents/GitHub/SiteStoriesForm/src/db.js"],"sourcesContent":["const dbName = 'SiteStoryDB';\nconst storeName = 'audioFiles';\n\nconst openDB = () => {\n    return new Promise((resolve, reject) => {\n      const request = indexedDB.open(dbName, 1);\n      request.onerror = () => reject(request.error);\n      request.onsuccess = () => resolve(request.result);\n      request.onupgradeneeded = (event) => {\n        const db = event.target.result;\n        db.createObjectStore(storeName, { keyPath: 'id' });\n      };\n    });\n  };\n  \n  const saveAudioToIndexedDB = async (audioFile, title) => {\n    const db = await openDB();\n    const transaction = db.transaction(storeName, 'readwrite');\n    const store = transaction.objectStore(storeName);\n    const id = title+Date.now();\n    await store.put({ id, title, audioFile });\n    return id;\n  };\n  const getAudioFromIndexedDB = async (id) => {\n    const db = await openDB();\n    return new Promise((resolve, reject) => {\n      const transaction = db.transaction(storeName, 'readonly');\n      const store = transaction.objectStore(storeName);\n      const request = store.get(id);\n  \n      request.onsuccess = (event) => {\n        resolve(event.target);\n      };\n  \n      request.onerror = (event) => {\n        reject(event.target.error);\n      };\n    });\n  };\n  export { openDB, saveAudioToIndexedDB, getAudioFromIndexedDB };"],"mappings":"AAAA,KAAM,CAAAA,MAAM,CAAG,aAAa,CAC5B,KAAM,CAAAC,SAAS,CAAG,YAAY,CAE9B,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACjB,MAAO,IAAI,CAAAC,OAAO,CAAC,CAACC,OAAO,CAAEC,MAAM,GAAK,CACtC,KAAM,CAAAC,OAAO,CAAGC,SAAS,CAACC,IAAI,CAACR,MAAM,CAAE,CAAC,CAAC,CACzCM,OAAO,CAACG,OAAO,CAAG,IAAMJ,MAAM,CAACC,OAAO,CAACI,KAAK,CAAC,CAC7CJ,OAAO,CAACK,SAAS,CAAG,IAAMP,OAAO,CAACE,OAAO,CAACM,MAAM,CAAC,CACjDN,OAAO,CAACO,eAAe,CAAIC,KAAK,EAAK,CACnC,KAAM,CAAAC,EAAE,CAAGD,KAAK,CAACE,MAAM,CAACJ,MAAM,CAC9BG,EAAE,CAACE,iBAAiB,CAAChB,SAAS,CAAE,CAAEiB,OAAO,CAAE,IAAK,CAAC,CAAC,CACpD,CAAC,CACH,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAC,oBAAoB,CAAG,KAAAA,CAAOC,SAAS,CAAEC,KAAK,GAAK,CACvD,KAAM,CAAAN,EAAE,CAAG,KAAM,CAAAb,MAAM,CAAC,CAAC,CACzB,KAAM,CAAAoB,WAAW,CAAGP,EAAE,CAACO,WAAW,CAACrB,SAAS,CAAE,WAAW,CAAC,CAC1D,KAAM,CAAAsB,KAAK,CAAGD,WAAW,CAACE,WAAW,CAACvB,SAAS,CAAC,CAChD,KAAM,CAAAwB,EAAE,CAAGJ,KAAK,CAACK,IAAI,CAACC,GAAG,CAAC,CAAC,CAC3B,KAAM,CAAAJ,KAAK,CAACK,GAAG,CAAC,CAAEH,EAAE,CAAEJ,KAAK,CAAED,SAAU,CAAC,CAAC,CACzC,MAAO,CAAAK,EAAE,CACX,CAAC,CACD,KAAM,CAAAI,qBAAqB,CAAG,KAAO,CAAAJ,EAAE,EAAK,CAC1C,KAAM,CAAAV,EAAE,CAAG,KAAM,CAAAb,MAAM,CAAC,CAAC,CACzB,MAAO,IAAI,CAAAC,OAAO,CAAC,CAACC,OAAO,CAAEC,MAAM,GAAK,CACtC,KAAM,CAAAiB,WAAW,CAAGP,EAAE,CAACO,WAAW,CAACrB,SAAS,CAAE,UAAU,CAAC,CACzD,KAAM,CAAAsB,KAAK,CAAGD,WAAW,CAACE,WAAW,CAACvB,SAAS,CAAC,CAChD,KAAM,CAAAK,OAAO,CAAGiB,KAAK,CAACO,GAAG,CAACL,EAAE,CAAC,CAE7BnB,OAAO,CAACK,SAAS,CAAIG,KAAK,EAAK,CAC7BV,OAAO,CAACU,KAAK,CAACE,MAAM,CAAC,CACvB,CAAC,CAEDV,OAAO,CAACG,OAAO,CAAIK,KAAK,EAAK,CAC3BT,MAAM,CAACS,KAAK,CAACE,MAAM,CAACN,KAAK,CAAC,CAC5B,CAAC,CACH,CAAC,CAAC,CACJ,CAAC,CACD,OAASR,MAAM,CAAEiB,oBAAoB,CAAEU,qBAAqB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}